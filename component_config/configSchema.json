{
  "type": "object",
  "title": "Daktela Extractor Configuration",
  "required": [
    "connection",
    "data_selection",
    "destination"
  ],
  "properties": {
    "connection": {
      "type": "object",
      "title": "Connection",
      "required": [
        "url",
        "username",
        "#password"
      ],
      "properties": {
        "url": {
          "type": "string",
          "title": "URL",
          "description": "Daktela base URL (e.g., 'https://mycompany.daktela.com')",
          "propertyOrder": 1
        },
        "username": {
          "type": "string",
          "title": "Username",
          "description": "Daktela account username",
          "propertyOrder": 2
        },
        "#password": {
          "type": "string",
          "title": "Password",
          "description": "Daktela account password (encrypted)",
          "format": "password",
          "propertyOrder": 3
        },
        "verify_ssl": {
          "type": "boolean",
          "title": "Verify SSL Certificates",
          "description": "Enable SSL certificate verification. Disable only for testing with self-signed certificates. WARNING: Disabling SSL verification is insecure.",
          "format": "checkbox",
          "default": true,
          "propertyOrder": 4
        }
      },
      "propertyOrder": 1
    },
    "data_selection": {
      "type": "object",
      "title": "Data Selection",
      "required": [
        "date_from",
        "date_to",
        "endpoints"
      ],
      "properties": {
        "date_from": {
          "type": "string",
          "title": "Date From",
          "description": "Start date for extraction. Supported formats: 'today', 'yesterday', '5 hours ago', '3 days ago', '4 months ago', '2 years ago'. Used as filter for tickets, contacts, and activities endpoints.",
          "default": "7 days ago",
          "propertyOrder": 1
        },
        "date_to": {
          "type": "string",
          "title": "Date To",
          "description": "End date for extraction. Supported formats: 'today', 'yesterday', '5 hours ago', '3 days ago', '4 months ago', '2 years ago'. Used as filter for tickets, contacts, and activities endpoints.",
          "default": "today",
          "propertyOrder": 2
        },
        "endpoints": {
          "type": "array",
          "items": {
            "enum": [
              "accounts",
              "activities",
              "activitiesCall",
              "activitiesChat",
              "activitiesEmail",
              "campaignsRecords",
              "contacts",
              "crmRecords",
              "queues",
              "statuses",
              "tickets",
              "users"
            ],
            "type": "string"
          },
          "title": "Endpoints to Extract",
          "format": "select",
          "options": {
            "tags": true
          },
          "description": "List of API endpoints to extract. Common endpoints: contacts, activities, activities_email, tickets, users, statuses. You can specify any valid Daktela API endpoint name (e.g., 'statuses' calls /api/v6/statuses).",
          "uniqueItems": true,
          "propertyOrder": 3
        }
      },
      "propertyOrder": 2
    },
    "destination": {
      "type": "object",
      "title": "Destination",
      "properties": {
        "incremental": {
          "type": "boolean",
          "title": "Incremental Load",
          "format": "checkbox",
          "description": "If enabled, new data will be appended to existing tables. If disabled, existing tables will be replaced.",
          "default": false,
          "propertyOrder": 1
        },
        "batch_size": {
          "type": "integer",
          "title": "Batch Size",
          "description": "Number of records to process in each batch. Higher values use more memory but may be faster.",
          "default": 10000,
          "minimum": 100,
          "maximum": 100000,
          "propertyOrder": 3
        },
        "max_concurrent_requests": {
          "type": "integer",
          "title": "Max Concurrent Requests",
          "description": "Maximum number of concurrent API requests. Lower this value if experiencing rate limiting.",
          "default": 10,
          "minimum": 1,
          "maximum": 50,
          "propertyOrder": 4
        }
      },
      "propertyOrder": 3
    },
    "debug": {
      "type": "boolean",
      "title": "Debug Mode",
      "format": "checkbox",
      "description": "If enabled, the component will produce detailed logs",
      "default": false,
      "propertyOrder": 4
    }
  }
}
